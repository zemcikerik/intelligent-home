<h2>User Management</h2>

<div *ngIf="loading$ | async; else error" class="loading-container">
  <mat-progress-spinner diameter="64" mode="indeterminate"></mat-progress-spinner>
</div>

<ng-template #error>
  <div *ngIf="error$ | async as error; else users" class="error">{{ error }}</div>
</ng-template>

<ng-template #users>
  <div class="users">
    <div class="list-header">
      <p>Username</p>
      <p>Role</p>
      <button mat-icon-button (click)="createUser()">
        <mat-icon class="add-icon">person_add</mat-icon>
      </button>
    </div>
    <app-user-entry
      *ngFor="let user of users$ | async"
      [user]="user"
      (edit)="editUser(user)"
      (delete)="deleteUser(user)"
    ></app-user-entry>
  </div>
</ng-template>
